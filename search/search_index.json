{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"radicalfield","text":"<p>Python package for linear combinations of radicals. <pre><code>&gt;&gt;&gt; from radicalfield import QuadraticElement2\n&gt;&gt;&gt; a = QuadraticElement2(1, 2)\n&gt;&gt;&gt; b = QuadraticElement2(3, 4)\n&gt;&gt;&gt; a + b\nQuadraticElement2(a=4, b=6)\n&gt;&gt;&gt; a * b\nQuadraticElement2(a=19, b=10)\n</code></pre></p>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install git+https://github.com/goessl/radicalfield.git\n</code></pre>"},{"location":"#usage","title":"Usage","text":"<ul> <li><code>radicalfield.quadraticelement2</code> \\(\\mathbb{K}\\left(\\sqrt{2}\\right)\\)</li> <li><code>radicalfield.sumofsqrts</code> \\(\\mathbb{K}\\left(\\sqrt{2},\\sqrt{3},\\sqrt{5},\\dots\\right)\\)</li> </ul>"},{"location":"#roadmap","title":"Roadmap","text":"<ul> <li> Deploy</li> <li> \\(\\mathbb{Z}\\left[\\sqrt{2}\\right]\\)</li> <li> \\(\\mathbb{Q}\\left(\\sqrt{2}\\right)\\)</li> <li> \\(\\mathbb{K}\\left(\\sqrt{2}\\right)\\)</li> <li> \\(\\mathbb{K}\\left(\\sqrt{2},\\sqrt{3},\\sqrt{5},\\dots\\right)\\)</li> </ul>"},{"location":"#license-mit","title":"License (MIT)","text":"<p>Copyright (c) 2025-2026 Sebastian G\u00f6ssl</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"quadraticelement2/","title":"quadraticelement2","text":""},{"location":"quadraticelement2/#radicalfield.quadraticelement2.__all__","title":"<code>__all__ = ('QuadraticElement2',)</code>  <code>module-attribute</code>","text":""},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2","title":"<code>QuadraticElement2</code>  <code>dataclass</code>","text":"<p>Element of the quadratic rationals \\(\\mathbb{K}\\left(\\sqrt{2}\\right)\\).</p> <p>An instance represents an exact rational of the form</p> \\[     a+b\\sqrt{2} \\qquad a, b\\in\\mathbb{K} \\] <p>where currently \\(\\mathbb{K}\\) is \\(\\mathbb{Z}\\) (<code>int</code>) or \\(\\mathbb{Q}\\) (<code>fractions.Fraction</code>).</p> <p>The immutable class supports exact conversion, ordering, algebraic conjugation, norm computation and arithmetic.</p> <p>Addition, subtraction &amp; multiplication is closed, mixed coefficients are promoted. Inversion is closed for integers for a norm of \\(\\pm1\\), otherwise it is promoted to rationals. Division is more often than necessary promoted to rationals.</p> <p>Parameters:</p> <ul> <li> <code>a</code>               (<code>int or Fraction</code>, default:                   <code>0</code> )           \u2013            <p>Coefficient of \\(1\\).</p> </li> <li> <code>b</code>               (<code>int or Fraction</code>, default:                   <code>0</code> )           \u2013            <p>Coefficient of \\(\\sqrt{2}\\).</p> </li> </ul> References <ul> <li>Wikipedia - Quadratic integers</li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>@total_ordering\n@dataclass(eq=False, frozen=True, slots=True) #make slots, immutability &amp; repr\nclass QuadraticElement2:\n    r\"\"\"Element of the quadratic rationals $\\mathbb{K}\\left(\\sqrt{2}\\right)$.\n\n    An instance represents an exact rational of the form\n\n    $$\n        a+b\\sqrt{2} \\qquad a, b\\in\\mathbb{K}\n    $$\n\n    where currently $\\mathbb{K}$ is $\\mathbb{Z}$ (`int`)\n    or $\\mathbb{Q}$ (`fractions.Fraction`).\n\n    The immutable class supports exact conversion, ordering,\n    algebraic conjugation, norm computation and arithmetic.\n\n    Addition, subtraction &amp; multiplication is closed,\n    mixed coefficients are promoted.\n    Inversion is closed for integers for a norm of $\\pm1$,\n    otherwise it is promoted to rationals.\n    Division is more often than necessary promoted to rationals.\n\n    Parameters\n    ----------\n    a : int or Fraction, default 0\n        Coefficient of $1$.\n    b : int or Fraction, default 0\n        Coefficient of $\\sqrt{2}$.\n\n    References\n    ----------\n    - [Wikipedia - Quadratic integers](https://en.wikipedia.org/wiki/Quadratic_integer)\n    \"\"\"\n    a:Final[int|Fraction] = 0\n    b:Final[int|Fraction] = 0\n    SQRT2:ClassVar[float] = sqrt(2)\n\n\n\n    @staticmethod\n    def from_expr(e:sp.Expr) -&gt; 'QuadraticElement2':\n        r\"\"\"Construct a `QuadraticElement2` from a `sympy.Expr`.\n\n        Parameters\n        ----------\n        e\n            Expression to convert.\n\n        Returns\n        -------\n        QuadraticElement2\n            Expression as `QuadraticElement2`.\n\n        Raises\n        ------\n        ValueError\n            If the expression is not an element of\n            $\\mathbb{K}\\left(\\sqrt{2}\\right)$.\n        \"\"\"\n        if not isinstance(e, sp.Expr):\n            raise TypeError('e must be a sympy.Expr')\n\n        SPSQRT2 = sp.sqrt(2)\n        e:sp.Expr = sp.nsimplify(e, [SPSQRT2])\n\n        a:sp.Expr = sp.simplify(e.subs(SPSQRT2, 0))\n        b:sp.Expr = sp.simplify((e - a) / SPSQRT2)\n\n        if sp.simplify(a + b*SPSQRT2 - e) != 0:\n            raise ValueError('expression not exactly representable in \ud835\udd42(\u221a2)')\n\n        if not (isinstance(a, sp.Rational) and isinstance(b, sp.Rational)):\n            raise ValueError(f'not in \ud835\udd42(\u221a2): {e} (a={a}, b={b})')\n\n        def rat_to_int_or_frac(r:sp.Integer|sp.Rational) -&gt; int|Fraction:\n            if isinstance(r, sp.Integer):\n                return int(r)\n            else:\n                return Fraction(int(r.p), int(r.q))\n\n        return QuadraticElement2(rat_to_int_or_frac(a), rat_to_int_or_frac(b))\n\n\n    def __post_init__(self) -&gt; None:\n        if not (isinstance(self.a, (int, Fraction)) \\\n                and isinstance(self.b, (int, Fraction))):\n            raise TypeError('a and b must be integers or fractions')\n\n\n\n    #conversion\n    def __bool__(self) -&gt; bool:\n        \"\"\"Return whether this element is unequal zero.\n\n        Returns\n        -------\n        bool\n            Whether this element is unequal zero.\n        \"\"\"\n        return bool(self.a) or bool(self.b)\n\n    def is_rational(self) -&gt; bool:\n        r\"\"\"Return whether this element has no $\\sqrt{2}$ component.\n\n        Notes\n        -----\n        Not a property to be consistent with `fractions.Fraction`.\n\n        Returns\n        -------\n        bool\n            Whether this element has no $\\sqrt{2}$ component.\n        \"\"\"\n        return not bool(self.b)\n\n    def as_fraction(self) -&gt; Fraction:\n        \"\"\"Return this element as a fraction.\n\n        Returns\n        -------\n        Fraction\n            This element as a fraction.\n\n        Raises\n        ------\n        ValueError\n            If this element is not a fraction.\n        \"\"\"\n        if not self.is_rational():\n            raise ValueError('not a fraction (b != 0)')\n        return Fraction(self.a)\n\n    def is_integer(self) -&gt; bool:\n        \"\"\"Return whether this element is an integer.\n\n        Notes\n        -----\n        Not a property to be consistent with `fractions.Fraction`.\n\n        Returns\n        -------\n        bool\n            Whether this element is an integer.\n        \"\"\"\n        return (isinstance(self.a, int) or self.a.is_integer()) and self.b==0\n\n    def __int__(self) -&gt; int:\n        \"\"\"Return this element as an integer.\n\n        Returns\n        -------\n        int\n            This element as an integer.\n\n        Raises\n        ------\n        ValueError\n            If this element is not an integer.\n        \"\"\"\n        if not self.is_integer():\n            raise ValueError('not an integer')\n        return int(self.a)\n\n    def __float__(self) -&gt; float:\n        \"\"\"Return this element as a float.\n\n        Returns\n        -------\n        float\n            This element as a float.\n        \"\"\"\n        return float(self.a) + QuadraticElement2.SQRT2*float(self.b)\n\n    def _sympy_(self) -&gt; sp.Expr:\n        return self.a + sp.sqrt(2)*self.b\n\n    def __hash__(self) -&gt; int:\n        #https://docs.python.org/3/library/numbers.html#notes-for-type-implementers\n        if self.is_rational():\n            return hash(self.a)\n        else:\n            return hash((self.a, self.b))\n\n\n\n    #ordering\n    @overload\n    def __eq__(self, other:Self) -&gt; bool: ...\n    @overload\n    def __eq__(self, other:int) -&gt; bool: ...\n    @overload\n    def __eq__(self, other:Fraction) -&gt; bool: ...\n    def __eq__(self, other:Any) -&gt; bool|NotImplementedType:\n        if isinstance(other, QuadraticElement2):\n            return self.a==other.a and self.b==other.b\n        elif isinstance(other, (int, Fraction)):\n            return self.a==other and self.b==0\n        return NotImplemented\n\n    @overload\n    def __lt__(self, other:Self) -&gt; bool: ...\n    @overload\n    def __lt__(self, other:int) -&gt; bool: ...\n    @overload\n    def __lt__(self, other:Fraction) -&gt; bool: ...\n    def __lt__(self, other:Any) -&gt; bool|NotImplementedType:\n        r\"\"\"Return whether this element is less than the other.\n\n        $$\n            \\begin{aligned}\n                a+b\\sqrt{2} &amp;\\overset{?}{&lt;} c+d\\sqrt{2} &amp;&amp;\\mid -a-d\\sqrt{2} \\\\\n                (b-d)\\sqrt{2} &amp;\\overset{?}{&lt;} (c-a)\\sqrt{2} &amp;&amp;\\mid \\cdot^2 \\\\\n                2(b-d)|b-d| &amp;\\overset{?}{&lt;} (c-a)|c-a|\n            \\end{aligned}\n        $$\n\n        Parameters\n        ----------\n        other: QuadraticElement2 or int or Fraction\n            Operand to compare to.\n\n        Returns\n        -------\n        bool\n            Whether this element is less than the other.\n        \"\"\"\n        if isinstance(other, QuadraticElement2):\n            l:int|Fraction = self.b - other.b\n            r:int|Fraction = other.a - self.a\n            #https://math.stackexchange.com/a/2347212\n            return 2*l*abs(l) &lt; r*abs(r)\n        elif isinstance(other, (int, Fraction)):\n            r:int|Fraction = other - self.a\n            return 2*self.b*abs(self.b) &lt; r*abs(r)\n        return NotImplemented\n\n    def __abs__(self) -&gt; Self:\n        return +self if self&gt;=0 else -self\n\n\n\n    #arithmetic\n    #make all following methods non-recursive/leaves,\n    #except inversion as it is otherwise to complicated\n    def norm(self) -&gt; int|Fraction:\n        r\"\"\"Return the algebraic norm.\n\n        $$\n            N\\left(a+b\\sqrt{2}\\right)\n            = \\left(\\overline{a+b\\sqrt{2}}\\right)\\left(a+b\\sqrt{2}\\right)\n            = a^2-2b^2\n        $$\n\n        Returns\n        -------\n        int or Fraction\n            The algebraic norm.\n\n        References\n        ----------\n        [Wikipedia - Quadratic integers - Norm and conjugation](https://en.wikipedia.org/wiki/Quadratic_integer#Norm_and_conjugation)\n        \"\"\"\n        return self.a*self.a - 2*self.b*self.b\n\n    def conj(self) -&gt; Self:\n        \"\"\"Return the algebraic conjugate.\n\n        See also\n        --------\n        Alias for [`conjugate`][radicalfield.quadraticelement2.QuadraticElement2.conjugate].\n        \"\"\"\n        return self.conjugate()\n\n    def conjugate(self) -&gt; Self:\n        r\"\"\"Return the algebraic conjugation.\n\n        $$\n            \\overline{a+b\\sqrt{2}} = a-b\\sqrt{2}\n        $$\n\n        Returns\n        -------\n        QuadraticElement2\n            The algebraic conjugation.\n\n        References\n        ----------\n        [Wikipedia - Quadratic integers - Norm and conjugation](https://en.wikipedia.org/wiki/Quadratic_integer#Norm_and_conjugation)\n        \"\"\"\n        return QuadraticElement2(self.a, -self.b)\n\n\n    def __pos__(self) -&gt; Self:\n        r\"\"\"Return itself.\n\n        $$\n            +\\left(a+b\\sqrt{2}\\right)\n        $$\n\n        Returns\n        -------\n        QuadraticElement2\n            Itself.\n        \"\"\"\n        return QuadraticElement2(+self.a, +self.b)\n\n    def __neg__(self) -&gt; Self:\n        r\"\"\"Return the negation.\n\n        $$\n            -\\left(a+b\\sqrt{2}\\right)\n        $$\n\n        Returns\n        -------\n        QuadraticElement2\n            The negation.\n        \"\"\"\n        return QuadraticElement2(-self.a, -self.b)\n\n\n    @overload\n    def __add__(self, other:Self) -&gt; Self: ...\n    @overload\n    def __add__(self, other:int) -&gt; Self: ...\n    @overload\n    def __add__(self, other:Fraction) -&gt; Self: ...\n    def __add__(self, other:Any) -&gt; Self|NotImplementedType:\n        r\"\"\"Return the sum.\n\n        $$\n            \\left(a+b\\sqrt{2}\\right) + \\left(c+d\\sqrt{2}\\right)\n            = \\left(a+c\\right) + \\left(b+d\\right)\\sqrt{2}\n        $$\n\n        Parameters\n        ----------\n        other: QuadraticElement2 or int or Fraction\n            Other summand.\n\n        Returns\n        -------\n        QuadraticElement2\n            The sum.\n        \"\"\"\n        if isinstance(other, QuadraticElement2):\n            return QuadraticElement2(self.a+other.a, self.b+other.b)\n        elif isinstance(other, (int, Fraction)):\n            return QuadraticElement2(self.a+other, self.b)\n        return NotImplemented\n\n    @overload\n    def __radd__(self, other:int) -&gt; Self: ...\n    @overload\n    def __radd__(self, other:Fraction) -&gt; Self: ...\n    def __radd__(self, other:Any) -&gt; Self|NotImplementedType:\n        if isinstance(other, (int, Fraction)):\n            return QuadraticElement2(other+self.a, self.b)\n        return NotImplemented\n\n\n    @overload\n    def __sub__(self, other:Self) -&gt; Self: ...\n    @overload\n    def __sub__(self, other:int) -&gt; Self: ...\n    @overload\n    def __sub__(self, other:Fraction) -&gt; Self: ...\n    def __sub__(self, other:Any) -&gt; Self|NotImplementedType:\n        r\"\"\"Return the difference.\n\n        $$\n            \\left(a+b\\sqrt{2}\\right) - \\left(c+d\\sqrt{2}\\right)\n            = \\left(a-c\\right) + \\left(b-d\\right)\\sqrt{2}\n        $$\n\n        Parameters\n        ----------\n        other: QuadraticElement2 or int or Fraction\n            The subtrahend.\n\n        Returns\n        -------\n        QuadraticElement2\n            The difference.\n        \"\"\"\n        if isinstance(other, QuadraticElement2):\n            return QuadraticElement2(self.a-other.a, self.b-other.b)\n        elif isinstance(other, (int, Fraction)):\n            return QuadraticElement2(self.a-other, self.b)\n        return NotImplemented\n\n    @overload\n    def __rsub__(self, other:int) -&gt; Self: ...\n    @overload\n    def __rsub__(self, other:Fraction) -&gt; Self: ...\n    def __rsub__(self, other:Any) -&gt; Self|NotImplementedType:\n        if isinstance(other, (int, Fraction)):\n            return QuadraticElement2(other-self.a, -self.b)\n        return NotImplemented\n\n\n    @overload\n    def __mul__(self, other:Self) -&gt; Self: ...\n    @overload\n    def __mul__(self, other:int) -&gt; Self: ...\n    @overload\n    def __mul__(self, other:Fraction) -&gt; Self: ...\n    def __mul__(self, other:Any) -&gt; Self|NotImplementedType:\n        r\"\"\"Return the product.\n\n        $$\n            \\left(a+b\\sqrt{2}\\right) \\cdot \\left(c+d\\sqrt{2}\\right)\n            = \\left(ac+2bd\\right) + \\left(ad+bc\\right)\\sqrt{2}\n        $$\n\n        Parameters\n        ----------\n        other: QuadraticElement2 or int or Fraction\n            The other factor.\n\n        Returns\n        -------\n        QuadraticElement2\n            The product.\n        \"\"\"\n        if isinstance(other, QuadraticElement2):\n            return QuadraticElement2(\n                    self.a*other.a + 2*self.b*other.b,\n                    self.a*other.b + self.b*other.a\n            )\n        elif isinstance(other, (int, Fraction)):\n            return QuadraticElement2(self.a*other, self.b*other)\n        return NotImplemented\n\n    @overload\n    def __rmul__(self, other:int) -&gt; Self: ...\n    @overload\n    def __rmul__(self, other:Fraction) -&gt; Self: ...\n    def __rmul__(self, other:Any) -&gt; Self|NotImplementedType:\n        if isinstance(other, (int, Fraction)):\n            return QuadraticElement2(other*self.a, other*self.b)\n        return NotImplemented\n\n\n    #NOT PERFECTLY TYPED ZONE BEGIN\n    def inv(self) -&gt; Self:\n        r\"\"\"Return the multiplicative inverse in $\\mathbb{K}\\left(\\sqrt{2}\\right)$.\n\n        $$\n            \\frac{1}{a+b\\sqrt{2}}\n            = \\frac{a-b\\sqrt{2}}{\\left(a+b\\sqrt{2}\\right)\\left(a-b\\sqrt{2}\\right)}\n            = \\frac{a-b\\sqrt{2}}{a^2-2b^2}\n            = \\frac{a-b\\sqrt{2}}{N\\left(a+b\\sqrt{2}\\right)}\n        $$\n\n        `QuadraticElement2` with integer coefficients and norm \u00b11 stays integer,\n        otherwise promoted to rational.\n\n        Returns\n        -------\n        QuadraticElement2\n            The multiplicative inverse element.\n\n        Raises\n        ------\n        ZeroDivisionError\n            If the norm is zero.\n\n        See also\n        --------\n        [`QuadraticElement2.norm`][radicalfield.quadraticelement2.QuadraticElement2.norm]\n        \"\"\"\n        n:Fraction = Fraction(self.norm())\n        if n == 0:\n            raise ZeroDivisionError('division by zero in \ud835\udd42(\u221a2)')\n        elif n == +1:\n            return QuadraticElement2(self.a, -self.b)\n        elif n == -1:\n            return QuadraticElement2(-self.a, self.b)\n        return QuadraticElement2(self.a/n, -self.b/n)\n\n    @overload\n    def __truediv__(self, other:Self) -&gt; Self: ...\n    @overload\n    def __truediv__(self, other:int) -&gt; Self: ...\n    @overload\n    def __truediv__(self, other:Fraction) -&gt; Self: ...\n    def __truediv__(self, other:Any) -&gt; Self|NotImplementedType:\n        r\"\"\"Return the quotient.\n\n        $$\n            \\frac{\\left(a+b\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)}\n            = \\frac{\\left(a+b\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}\n            = \\frac{\\left(ac-2bd\\right)+\\left(bc-ad\\right)\\sqrt{2}}{c^2-2d^2}\n        $$\n\n        More often than necessary promoted to rationals.\n\n        Parameters\n        ----------\n        other: QuadraticElement2 or int or Fraction\n            The denominator.\n\n        Returns\n        -------\n        QuadraticElement2\n            The quotient.\n\n        Raises\n        ------\n        ZeroDivisionError\n            If the norm of the denominator is zero.\n        \"\"\"\n        if isinstance(other, QuadraticElement2):\n            return self * other.inv()\n        elif isinstance(other, (int, Fraction)):\n            other:Fraction = Fraction(other)\n            return QuadraticElement2(self.a/other, self.b/other)\n        return NotImplemented\n\n    @overload\n    def __rtruediv__(self, other:int) -&gt; Self: ...\n    @overload\n    def __rtruediv__(self, other:Fraction) -&gt; Self: ...\n    def __rtruediv__(self, other:Any) -&gt; Self|NotImplementedType:\n        if isinstance(other, (int, Fraction)):\n            return other * self.inv()\n        return NotImplemented\n    #NOT PERFECTLY TYPED ZONE END\n\n\n\n    #IO\n    def __str__(self) -&gt; str:\n        return f'{self.a}{self.b:+}\u221a2'\n\n    def _repr_latex_(self) -&gt; str:\n        return f'{self.a}{self.b:+}\\\\sqrt{{2}}'\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__init__","title":"<code>__init__(a=0, b=0)</code>","text":""},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.a","title":"<code>a = 0</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.b","title":"<code>b = 0</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.SQRT2","title":"<code>SQRT2 = sqrt(2)</code>  <code>class-attribute</code>","text":""},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.from_expr","title":"<code>from_expr(e)</code>  <code>staticmethod</code>","text":"<p>Construct a <code>QuadraticElement2</code> from a <code>sympy.Expr</code>.</p> <p>Parameters:</p> <ul> <li> <code>e</code>               (<code>Expr</code>)           \u2013            <p>Expression to convert.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>QuadraticElement2</code>           \u2013            <p>Expression as <code>QuadraticElement2</code>.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ValueError</code>             \u2013            <p>If the expression is not an element of \\(\\mathbb{K}\\left(\\sqrt{2}\\right)\\).</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>@staticmethod\ndef from_expr(e:sp.Expr) -&gt; 'QuadraticElement2':\n    r\"\"\"Construct a `QuadraticElement2` from a `sympy.Expr`.\n\n    Parameters\n    ----------\n    e\n        Expression to convert.\n\n    Returns\n    -------\n    QuadraticElement2\n        Expression as `QuadraticElement2`.\n\n    Raises\n    ------\n    ValueError\n        If the expression is not an element of\n        $\\mathbb{K}\\left(\\sqrt{2}\\right)$.\n    \"\"\"\n    if not isinstance(e, sp.Expr):\n        raise TypeError('e must be a sympy.Expr')\n\n    SPSQRT2 = sp.sqrt(2)\n    e:sp.Expr = sp.nsimplify(e, [SPSQRT2])\n\n    a:sp.Expr = sp.simplify(e.subs(SPSQRT2, 0))\n    b:sp.Expr = sp.simplify((e - a) / SPSQRT2)\n\n    if sp.simplify(a + b*SPSQRT2 - e) != 0:\n        raise ValueError('expression not exactly representable in \ud835\udd42(\u221a2)')\n\n    if not (isinstance(a, sp.Rational) and isinstance(b, sp.Rational)):\n        raise ValueError(f'not in \ud835\udd42(\u221a2): {e} (a={a}, b={b})')\n\n    def rat_to_int_or_frac(r:sp.Integer|sp.Rational) -&gt; int|Fraction:\n        if isinstance(r, sp.Integer):\n            return int(r)\n        else:\n            return Fraction(int(r.p), int(r.q))\n\n    return QuadraticElement2(rat_to_int_or_frac(a), rat_to_int_or_frac(b))\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__post_init__","title":"<code>__post_init__()</code>","text":"Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __post_init__(self) -&gt; None:\n    if not (isinstance(self.a, (int, Fraction)) \\\n            and isinstance(self.b, (int, Fraction))):\n        raise TypeError('a and b must be integers or fractions')\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__bool__","title":"<code>__bool__()</code>","text":"<p>Return whether this element is unequal zero.</p> <p>Returns:</p> <ul> <li> <code>bool</code>           \u2013            <p>Whether this element is unequal zero.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __bool__(self) -&gt; bool:\n    \"\"\"Return whether this element is unequal zero.\n\n    Returns\n    -------\n    bool\n        Whether this element is unequal zero.\n    \"\"\"\n    return bool(self.a) or bool(self.b)\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.is_rational","title":"<code>is_rational()</code>","text":"<p>Return whether this element has no \\(\\sqrt{2}\\) component.</p> Notes <p>Not a property to be consistent with <code>fractions.Fraction</code>.</p> <p>Returns:</p> <ul> <li> <code>bool</code>           \u2013            <p>Whether this element has no \\(\\sqrt{2}\\) component.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def is_rational(self) -&gt; bool:\n    r\"\"\"Return whether this element has no $\\sqrt{2}$ component.\n\n    Notes\n    -----\n    Not a property to be consistent with `fractions.Fraction`.\n\n    Returns\n    -------\n    bool\n        Whether this element has no $\\sqrt{2}$ component.\n    \"\"\"\n    return not bool(self.b)\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.as_fraction","title":"<code>as_fraction()</code>","text":"<p>Return this element as a fraction.</p> <p>Returns:</p> <ul> <li> <code>Fraction</code>           \u2013            <p>This element as a fraction.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ValueError</code>             \u2013            <p>If this element is not a fraction.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def as_fraction(self) -&gt; Fraction:\n    \"\"\"Return this element as a fraction.\n\n    Returns\n    -------\n    Fraction\n        This element as a fraction.\n\n    Raises\n    ------\n    ValueError\n        If this element is not a fraction.\n    \"\"\"\n    if not self.is_rational():\n        raise ValueError('not a fraction (b != 0)')\n    return Fraction(self.a)\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.is_integer","title":"<code>is_integer()</code>","text":"<p>Return whether this element is an integer.</p> Notes <p>Not a property to be consistent with <code>fractions.Fraction</code>.</p> <p>Returns:</p> <ul> <li> <code>bool</code>           \u2013            <p>Whether this element is an integer.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def is_integer(self) -&gt; bool:\n    \"\"\"Return whether this element is an integer.\n\n    Notes\n    -----\n    Not a property to be consistent with `fractions.Fraction`.\n\n    Returns\n    -------\n    bool\n        Whether this element is an integer.\n    \"\"\"\n    return (isinstance(self.a, int) or self.a.is_integer()) and self.b==0\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__int__","title":"<code>__int__()</code>","text":"<p>Return this element as an integer.</p> <p>Returns:</p> <ul> <li> <code>int</code>           \u2013            <p>This element as an integer.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ValueError</code>             \u2013            <p>If this element is not an integer.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __int__(self) -&gt; int:\n    \"\"\"Return this element as an integer.\n\n    Returns\n    -------\n    int\n        This element as an integer.\n\n    Raises\n    ------\n    ValueError\n        If this element is not an integer.\n    \"\"\"\n    if not self.is_integer():\n        raise ValueError('not an integer')\n    return int(self.a)\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__float__","title":"<code>__float__()</code>","text":"<p>Return this element as a float.</p> <p>Returns:</p> <ul> <li> <code>float</code>           \u2013            <p>This element as a float.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __float__(self) -&gt; float:\n    \"\"\"Return this element as a float.\n\n    Returns\n    -------\n    float\n        This element as a float.\n    \"\"\"\n    return float(self.a) + QuadraticElement2.SQRT2*float(self.b)\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__hash__","title":"<code>__hash__()</code>","text":"Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __hash__(self) -&gt; int:\n    #https://docs.python.org/3/library/numbers.html#notes-for-type-implementers\n    if self.is_rational():\n        return hash(self.a)\n    else:\n        return hash((self.a, self.b))\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__eq__","title":"<code>__eq__(other)</code>","text":"<pre><code>__eq__(other: Self) -&gt; bool\n</code></pre><pre><code>__eq__(other: int) -&gt; bool\n</code></pre><pre><code>__eq__(other: Fraction) -&gt; bool\n</code></pre> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __eq__(self, other:Any) -&gt; bool|NotImplementedType:\n    if isinstance(other, QuadraticElement2):\n        return self.a==other.a and self.b==other.b\n    elif isinstance(other, (int, Fraction)):\n        return self.a==other and self.b==0\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__lt__","title":"<code>__lt__(other)</code>","text":"<pre><code>__lt__(other: Self) -&gt; bool\n</code></pre><pre><code>__lt__(other: int) -&gt; bool\n</code></pre><pre><code>__lt__(other: Fraction) -&gt; bool\n</code></pre> <p>Return whether this element is less than the other.</p> \\[     \\begin{aligned}         a+b\\sqrt{2} &amp;\\overset{?}{&lt;} c+d\\sqrt{2} &amp;&amp;\\mid -a-d\\sqrt{2} \\\\         (b-d)\\sqrt{2} &amp;\\overset{?}{&lt;} (c-a)\\sqrt{2} &amp;&amp;\\mid \\cdot^2 \\\\         2(b-d)|b-d| &amp;\\overset{?}{&lt;} (c-a)|c-a|     \\end{aligned} \\] <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>Operand to compare to.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>bool</code>           \u2013            <p>Whether this element is less than the other.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __lt__(self, other:Any) -&gt; bool|NotImplementedType:\n    r\"\"\"Return whether this element is less than the other.\n\n    $$\n        \\begin{aligned}\n            a+b\\sqrt{2} &amp;\\overset{?}{&lt;} c+d\\sqrt{2} &amp;&amp;\\mid -a-d\\sqrt{2} \\\\\n            (b-d)\\sqrt{2} &amp;\\overset{?}{&lt;} (c-a)\\sqrt{2} &amp;&amp;\\mid \\cdot^2 \\\\\n            2(b-d)|b-d| &amp;\\overset{?}{&lt;} (c-a)|c-a|\n        \\end{aligned}\n    $$\n\n    Parameters\n    ----------\n    other: QuadraticElement2 or int or Fraction\n        Operand to compare to.\n\n    Returns\n    -------\n    bool\n        Whether this element is less than the other.\n    \"\"\"\n    if isinstance(other, QuadraticElement2):\n        l:int|Fraction = self.b - other.b\n        r:int|Fraction = other.a - self.a\n        #https://math.stackexchange.com/a/2347212\n        return 2*l*abs(l) &lt; r*abs(r)\n    elif isinstance(other, (int, Fraction)):\n        r:int|Fraction = other - self.a\n        return 2*self.b*abs(self.b) &lt; r*abs(r)\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__abs__","title":"<code>__abs__()</code>","text":"Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __abs__(self) -&gt; Self:\n    return +self if self&gt;=0 else -self\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.norm","title":"<code>norm()</code>","text":"<p>Return the algebraic norm.</p> \\[     N\\left(a+b\\sqrt{2}\\right)     = \\left(\\overline{a+b\\sqrt{2}}\\right)\\left(a+b\\sqrt{2}\\right)     = a^2-2b^2 \\] <p>Returns:</p> <ul> <li> <code>int or Fraction</code>           \u2013            <p>The algebraic norm.</p> </li> </ul> References <p>Wikipedia - Quadratic integers - Norm and conjugation</p> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def norm(self) -&gt; int|Fraction:\n    r\"\"\"Return the algebraic norm.\n\n    $$\n        N\\left(a+b\\sqrt{2}\\right)\n        = \\left(\\overline{a+b\\sqrt{2}}\\right)\\left(a+b\\sqrt{2}\\right)\n        = a^2-2b^2\n    $$\n\n    Returns\n    -------\n    int or Fraction\n        The algebraic norm.\n\n    References\n    ----------\n    [Wikipedia - Quadratic integers - Norm and conjugation](https://en.wikipedia.org/wiki/Quadratic_integer#Norm_and_conjugation)\n    \"\"\"\n    return self.a*self.a - 2*self.b*self.b\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.conj","title":"<code>conj()</code>","text":"<p>Return the algebraic conjugate.</p> See also <p>Alias for <code>conjugate</code>.</p> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def conj(self) -&gt; Self:\n    \"\"\"Return the algebraic conjugate.\n\n    See also\n    --------\n    Alias for [`conjugate`][radicalfield.quadraticelement2.QuadraticElement2.conjugate].\n    \"\"\"\n    return self.conjugate()\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.conjugate","title":"<code>conjugate()</code>","text":"<p>Return the algebraic conjugation.</p> \\[     \\overline{a+b\\sqrt{2}} = a-b\\sqrt{2} \\] <p>Returns:</p> <ul> <li> <code>QuadraticElement2</code>           \u2013            <p>The algebraic conjugation.</p> </li> </ul> References <p>Wikipedia - Quadratic integers - Norm and conjugation</p> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def conjugate(self) -&gt; Self:\n    r\"\"\"Return the algebraic conjugation.\n\n    $$\n        \\overline{a+b\\sqrt{2}} = a-b\\sqrt{2}\n    $$\n\n    Returns\n    -------\n    QuadraticElement2\n        The algebraic conjugation.\n\n    References\n    ----------\n    [Wikipedia - Quadratic integers - Norm and conjugation](https://en.wikipedia.org/wiki/Quadratic_integer#Norm_and_conjugation)\n    \"\"\"\n    return QuadraticElement2(self.a, -self.b)\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__pos__","title":"<code>__pos__()</code>","text":"<p>Return itself.</p> \\[     +\\left(a+b\\sqrt{2}\\right) \\] <p>Returns:</p> <ul> <li> <code>QuadraticElement2</code>           \u2013            <p>Itself.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __pos__(self) -&gt; Self:\n    r\"\"\"Return itself.\n\n    $$\n        +\\left(a+b\\sqrt{2}\\right)\n    $$\n\n    Returns\n    -------\n    QuadraticElement2\n        Itself.\n    \"\"\"\n    return QuadraticElement2(+self.a, +self.b)\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__neg__","title":"<code>__neg__()</code>","text":"<p>Return the negation.</p> \\[     -\\left(a+b\\sqrt{2}\\right) \\] <p>Returns:</p> <ul> <li> <code>QuadraticElement2</code>           \u2013            <p>The negation.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __neg__(self) -&gt; Self:\n    r\"\"\"Return the negation.\n\n    $$\n        -\\left(a+b\\sqrt{2}\\right)\n    $$\n\n    Returns\n    -------\n    QuadraticElement2\n        The negation.\n    \"\"\"\n    return QuadraticElement2(-self.a, -self.b)\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__add__","title":"<code>__add__(other)</code>","text":"<pre><code>__add__(other: Self) -&gt; Self\n</code></pre><pre><code>__add__(other: int) -&gt; Self\n</code></pre><pre><code>__add__(other: Fraction) -&gt; Self\n</code></pre> <p>Return the sum.</p> \\[     \\left(a+b\\sqrt{2}\\right) + \\left(c+d\\sqrt{2}\\right)     = \\left(a+c\\right) + \\left(b+d\\right)\\sqrt{2} \\] <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>Other summand.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>QuadraticElement2</code>           \u2013            <p>The sum.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __add__(self, other:Any) -&gt; Self|NotImplementedType:\n    r\"\"\"Return the sum.\n\n    $$\n        \\left(a+b\\sqrt{2}\\right) + \\left(c+d\\sqrt{2}\\right)\n        = \\left(a+c\\right) + \\left(b+d\\right)\\sqrt{2}\n    $$\n\n    Parameters\n    ----------\n    other: QuadraticElement2 or int or Fraction\n        Other summand.\n\n    Returns\n    -------\n    QuadraticElement2\n        The sum.\n    \"\"\"\n    if isinstance(other, QuadraticElement2):\n        return QuadraticElement2(self.a+other.a, self.b+other.b)\n    elif isinstance(other, (int, Fraction)):\n        return QuadraticElement2(self.a+other, self.b)\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__radd__","title":"<code>__radd__(other)</code>","text":"<pre><code>__radd__(other: int) -&gt; Self\n</code></pre><pre><code>__radd__(other: Fraction) -&gt; Self\n</code></pre> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __radd__(self, other:Any) -&gt; Self|NotImplementedType:\n    if isinstance(other, (int, Fraction)):\n        return QuadraticElement2(other+self.a, self.b)\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__sub__","title":"<code>__sub__(other)</code>","text":"<pre><code>__sub__(other: Self) -&gt; Self\n</code></pre><pre><code>__sub__(other: int) -&gt; Self\n</code></pre><pre><code>__sub__(other: Fraction) -&gt; Self\n</code></pre> <p>Return the difference.</p> \\[     \\left(a+b\\sqrt{2}\\right) - \\left(c+d\\sqrt{2}\\right)     = \\left(a-c\\right) + \\left(b-d\\right)\\sqrt{2} \\] <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>The subtrahend.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>QuadraticElement2</code>           \u2013            <p>The difference.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __sub__(self, other:Any) -&gt; Self|NotImplementedType:\n    r\"\"\"Return the difference.\n\n    $$\n        \\left(a+b\\sqrt{2}\\right) - \\left(c+d\\sqrt{2}\\right)\n        = \\left(a-c\\right) + \\left(b-d\\right)\\sqrt{2}\n    $$\n\n    Parameters\n    ----------\n    other: QuadraticElement2 or int or Fraction\n        The subtrahend.\n\n    Returns\n    -------\n    QuadraticElement2\n        The difference.\n    \"\"\"\n    if isinstance(other, QuadraticElement2):\n        return QuadraticElement2(self.a-other.a, self.b-other.b)\n    elif isinstance(other, (int, Fraction)):\n        return QuadraticElement2(self.a-other, self.b)\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__rsub__","title":"<code>__rsub__(other)</code>","text":"<pre><code>__rsub__(other: int) -&gt; Self\n</code></pre><pre><code>__rsub__(other: Fraction) -&gt; Self\n</code></pre> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __rsub__(self, other:Any) -&gt; Self|NotImplementedType:\n    if isinstance(other, (int, Fraction)):\n        return QuadraticElement2(other-self.a, -self.b)\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__mul__","title":"<code>__mul__(other)</code>","text":"<pre><code>__mul__(other: Self) -&gt; Self\n</code></pre><pre><code>__mul__(other: int) -&gt; Self\n</code></pre><pre><code>__mul__(other: Fraction) -&gt; Self\n</code></pre> <p>Return the product.</p> \\[     \\left(a+b\\sqrt{2}\\right) \\cdot \\left(c+d\\sqrt{2}\\right)     = \\left(ac+2bd\\right) + \\left(ad+bc\\right)\\sqrt{2} \\] <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>The other factor.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>QuadraticElement2</code>           \u2013            <p>The product.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __mul__(self, other:Any) -&gt; Self|NotImplementedType:\n    r\"\"\"Return the product.\n\n    $$\n        \\left(a+b\\sqrt{2}\\right) \\cdot \\left(c+d\\sqrt{2}\\right)\n        = \\left(ac+2bd\\right) + \\left(ad+bc\\right)\\sqrt{2}\n    $$\n\n    Parameters\n    ----------\n    other: QuadraticElement2 or int or Fraction\n        The other factor.\n\n    Returns\n    -------\n    QuadraticElement2\n        The product.\n    \"\"\"\n    if isinstance(other, QuadraticElement2):\n        return QuadraticElement2(\n                self.a*other.a + 2*self.b*other.b,\n                self.a*other.b + self.b*other.a\n        )\n    elif isinstance(other, (int, Fraction)):\n        return QuadraticElement2(self.a*other, self.b*other)\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__rmul__","title":"<code>__rmul__(other)</code>","text":"<pre><code>__rmul__(other: int) -&gt; Self\n</code></pre><pre><code>__rmul__(other: Fraction) -&gt; Self\n</code></pre> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __rmul__(self, other:Any) -&gt; Self|NotImplementedType:\n    if isinstance(other, (int, Fraction)):\n        return QuadraticElement2(other*self.a, other*self.b)\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.inv","title":"<code>inv()</code>","text":"<p>Return the multiplicative inverse in \\(\\mathbb{K}\\left(\\sqrt{2}\\right)\\).</p> \\[     \\frac{1}{a+b\\sqrt{2}}     = \\frac{a-b\\sqrt{2}}{\\left(a+b\\sqrt{2}\\right)\\left(a-b\\sqrt{2}\\right)}     = \\frac{a-b\\sqrt{2}}{a^2-2b^2}     = \\frac{a-b\\sqrt{2}}{N\\left(a+b\\sqrt{2}\\right)} \\] <p><code>QuadraticElement2</code> with integer coefficients and norm \u00b11 stays integer, otherwise promoted to rational.</p> <p>Returns:</p> <ul> <li> <code>QuadraticElement2</code>           \u2013            <p>The multiplicative inverse element.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ZeroDivisionError</code>             \u2013            <p>If the norm is zero.</p> </li> </ul> See also <p><code>QuadraticElement2.norm</code></p> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def inv(self) -&gt; Self:\n    r\"\"\"Return the multiplicative inverse in $\\mathbb{K}\\left(\\sqrt{2}\\right)$.\n\n    $$\n        \\frac{1}{a+b\\sqrt{2}}\n        = \\frac{a-b\\sqrt{2}}{\\left(a+b\\sqrt{2}\\right)\\left(a-b\\sqrt{2}\\right)}\n        = \\frac{a-b\\sqrt{2}}{a^2-2b^2}\n        = \\frac{a-b\\sqrt{2}}{N\\left(a+b\\sqrt{2}\\right)}\n    $$\n\n    `QuadraticElement2` with integer coefficients and norm \u00b11 stays integer,\n    otherwise promoted to rational.\n\n    Returns\n    -------\n    QuadraticElement2\n        The multiplicative inverse element.\n\n    Raises\n    ------\n    ZeroDivisionError\n        If the norm is zero.\n\n    See also\n    --------\n    [`QuadraticElement2.norm`][radicalfield.quadraticelement2.QuadraticElement2.norm]\n    \"\"\"\n    n:Fraction = Fraction(self.norm())\n    if n == 0:\n        raise ZeroDivisionError('division by zero in \ud835\udd42(\u221a2)')\n    elif n == +1:\n        return QuadraticElement2(self.a, -self.b)\n    elif n == -1:\n        return QuadraticElement2(-self.a, self.b)\n    return QuadraticElement2(self.a/n, -self.b/n)\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__truediv__","title":"<code>__truediv__(other)</code>","text":"<pre><code>__truediv__(other: Self) -&gt; Self\n</code></pre><pre><code>__truediv__(other: int) -&gt; Self\n</code></pre><pre><code>__truediv__(other: Fraction) -&gt; Self\n</code></pre> <p>Return the quotient.</p> \\[     \\frac{\\left(a+b\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)}     = \\frac{\\left(a+b\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}     = \\frac{\\left(ac-2bd\\right)+\\left(bc-ad\\right)\\sqrt{2}}{c^2-2d^2} \\] <p>More often than necessary promoted to rationals.</p> <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>The denominator.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>QuadraticElement2</code>           \u2013            <p>The quotient.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ZeroDivisionError</code>             \u2013            <p>If the norm of the denominator is zero.</p> </li> </ul> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __truediv__(self, other:Any) -&gt; Self|NotImplementedType:\n    r\"\"\"Return the quotient.\n\n    $$\n        \\frac{\\left(a+b\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)}\n        = \\frac{\\left(a+b\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}\n        = \\frac{\\left(ac-2bd\\right)+\\left(bc-ad\\right)\\sqrt{2}}{c^2-2d^2}\n    $$\n\n    More often than necessary promoted to rationals.\n\n    Parameters\n    ----------\n    other: QuadraticElement2 or int or Fraction\n        The denominator.\n\n    Returns\n    -------\n    QuadraticElement2\n        The quotient.\n\n    Raises\n    ------\n    ZeroDivisionError\n        If the norm of the denominator is zero.\n    \"\"\"\n    if isinstance(other, QuadraticElement2):\n        return self * other.inv()\n    elif isinstance(other, (int, Fraction)):\n        other:Fraction = Fraction(other)\n        return QuadraticElement2(self.a/other, self.b/other)\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__rtruediv__","title":"<code>__rtruediv__(other)</code>","text":"<pre><code>__rtruediv__(other: int) -&gt; Self\n</code></pre><pre><code>__rtruediv__(other: Fraction) -&gt; Self\n</code></pre> Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __rtruediv__(self, other:Any) -&gt; Self|NotImplementedType:\n    if isinstance(other, (int, Fraction)):\n        return other * self.inv()\n    return NotImplemented\n</code></pre>"},{"location":"quadraticelement2/#radicalfield.quadraticelement2.QuadraticElement2.__str__","title":"<code>__str__()</code>","text":"Source code in <code>radicalfield\\quadraticelement2.py</code> <pre><code>def __str__(self) -&gt; str:\n    return f'{self.a}{self.b:+}\u221a2'\n</code></pre>"},{"location":"sumofsqrts/","title":"sumofsqrts","text":""},{"location":"sumofsqrts/#radicalfield.sumofsqrts.__all__","title":"<code>__all__ = ('SumOfSqrts',)</code>  <code>module-attribute</code>","text":""},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts","title":"<code>SumOfSqrts</code>  <code>dataclass</code>","text":"<p>Element of the quadratic rationals \\(\\mathbb{K}\\left(\\sqrt{2}, \\sqrt{3}, \\dots\\right)\\).</p> <p>An instance represents an exact algebraic rational of the form</p> \\[     \\sum_iv_i\\sqrt{k_i} = v_1+v_2\\sqrt{2}+v_3+\\sqrt{3}+\\cdots \\qquad v_i\\in\\mathbb{K} \\] <p>where currently \\(\\mathbb{K}\\) is \\(\\mathbb{Z}\\) (<code>int</code>) or \\(\\mathbb{Q}\\) (<code>fractions.Fraction</code>).</p> <p>The immutable class supports exact conversion, ordering, algebraic conjugation, norm computation and arithmetic.</p> <p>Addition, subtraction &amp; multiplication is closed, mixed coefficients are promoted. Division is promoted to rationals.</p> <p>Parameters:</p> <ul> <li> <code>n</code>               (<code>dict[int, int | Fraction] or int or Fraction</code>, default:                   <code>0</code> )           \u2013            <p>Mapping of radicands \\(k_i\\) to factors \\(v_i\\).</p> </li> </ul> References <ul> <li>Wikipedia - Quadratic integers</li> <li>Wikipedia - Sum of radicals</li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>@total_ordering\n@dataclass(eq=False, frozen=True, slots=True) #make slots, immutability &amp; repr\nclass SumOfSqrts:\n    r\"\"\"Element of the quadratic rationals $\\mathbb{K}\\left(\\sqrt{2}, \\sqrt{3}, \\dots\\right)$.\n\n    An instance represents an exact algebraic rational of the form\n\n    $$\n        \\sum_iv_i\\sqrt{k_i} = v_1+v_2\\sqrt{2}+v_3+\\sqrt{3}+\\cdots \\qquad v_i\\in\\mathbb{K}\n    $$\n\n    where currently $\\mathbb{K}$ is $\\mathbb{Z}$ (`int`)\n    or $\\mathbb{Q}$ (`fractions.Fraction`).\n\n    The immutable class supports exact conversion, ordering,\n    algebraic conjugation, norm computation and arithmetic.\n\n    Addition, subtraction &amp; multiplication is closed,\n    mixed coefficients are promoted.\n    Division is promoted to rationals.\n\n    Parameters\n    ----------\n    n : dict[int, int|Fraction] or int or Fraction, default 0\n        Mapping of radicands $k_i$ to factors $v_i$.\n\n    References\n    ----------\n    - [Wikipedia - Quadratic integers](https://en.wikipedia.org/wiki/Quadratic_integer)\n    - [Wikipedia - Sum of radicals](https://en.wikipedia.org/wiki/Sum_of_radicals)\n    \"\"\"\n    n:Final[dict[int, int|Fraction]] = field(default_factory=dict)\n\n\n\n    @staticmethod\n    def from_expr(e:sp.Expr) -&gt; 'SumOfSqrts':\n        r\"\"\"Construct a `SumOfSqrts` from a `sympy.Expr`.\n\n        Parameters\n        ----------\n        e\n            Expression to convert.\n\n        Returns\n        -------\n        SumOfSqrts\n            Expression as `SumOfSqrts`.\n\n        Raises\n        ------\n        ValueError\n            If the expression could not be converted.\n        \"\"\"\n        if not isinstance(e, sp.Expr):\n            raise TypeError('e must be a sympy.Expr')\n\n        def rat_to_int_or_frac(r:sp.Integer|sp.Rational) -&gt; int|Fraction:\n            if isinstance(r, sp.Integer):\n                return int(r)\n            else:\n                return Fraction(int(r.p), int(r.q))\n\n        n:defaultdict[int,int|Fraction] = defaultdict(int)\n        for term in e.as_ordered_terms():\n            v, radical = term.as_coeff_Mul()\n            radicand:sp.Integer = radical**2\n            if not isinstance(v, sp.Rational) and isinstance(radicand, sp.Integer):\n                raise ValueError(f'unexpected term: {term}')\n            n[int(radicand)] += rat_to_int_or_frac(v)\n\n        return SumOfSqrts(n)\n\n    @staticmethod\n    def sqrtOf(n:int|Fraction) -&gt; 'SumOfSqrts':\n        if isinstance(n, int):\n            return SumOfSqrts({n:1})\n        else:\n            return SumOfSqrts({n.numerator*n.denominator:Fraction(1, n.denominator)})\n\n    @staticmethod\n    def _create_directly(n:dict[int, int|Fraction]) -&gt; 'SumOfSqrts':\n        #avoid normalisation\n        s = object.__new__(SumOfSqrts)\n        object.__setattr__(s, 'n', MappingProxyType(n))\n        return s\n\n    @staticmethod\n    def normalize(d:dict[int,int|Fraction]) -&gt; dict[int,int|Fraction]:\n        r\"\"\"Normalise a dict of radicals and rational factors into squarefree form.\n\n        $$\n            \\sum_iv_i\\sqrt{k_i}\n        $$\n\n        Explicitly, each term is transformed as\n\n        $$\n            v\\sqrt{k} = v\\sqrt{s^2r} = vs\\sqrt{r} \\qquad \\text{where $r$ is squarefree}\n        $$\n\n        and for the whole sum:\n\n        - zero terms are filtered out,\n        - type and value checked,\n        - square components in the radicands are pulled out &amp;\n        - the result is sorted by increasing radicand.\n\n        TODO: inplace version?\n\n        Parameters\n        ----------\n        d : dict[int, int|Fraction]\n            Mapping of radicands $k_i$ to factors $v_i$.\n\n        Returns\n        -------\n        dict[int, int|Fraction]\n            Mathematically equivalent but cleaner copy.\n\n        Raises\n        ------\n        TypeError\n            If a radicand is not an integer or a coefficient is not an\n            integer or fraction.\n        ValueError\n            If a radicand is negative.\n        \"\"\"\n        n:defaultdict[int, int|Fraction] = defaultdict(int)\n        for k, v in d.items():\n            if k and v: #filter v_0\\sqrt{0} and 0\\sqrt{k}\n                if not (isinstance(k, int) and isinstance(v, (int, Fraction))):\n                    raise TypeError('radicands must be integers, factors must be integers or fractions')\n                if not k&gt;=0:\n                    raise ValueError('radicands must be non-negative')\n                f = factorint(k)\n                s = prod(p**(e//2) for p, e in f.items())\n                k = prod(p**(e%2) for p, e in f.items())\n                n[k] += s * v\n                if not n[k]:\n                    del n[k]\n        return dict(sorted(n.items()))\n\n    def __post_init__(self) -&gt; None:\n        if isinstance(self.n, (int, Fraction)):\n            n = {1:self.n} if self.n else {}\n        elif isinstance(self.n, dict):\n            n = SumOfSqrts.normalize(self.n)\n        else:\n            raise TypeError('argument must be dict, int or fraction')\n\n        object.__setattr__(self, 'n', MappingProxyType(n))\n\n\n\n    #container\n    def __len__(self) -&gt; int:\n        \"\"\"Return the number of terms.\n\n        Returns\n        -------\n        int\n            Number of terms.\n        \"\"\"\n        return len(self.n)\n\n    @overload\n    def __getitem__(self, key:int) -&gt; int|Fraction: ...\n    def __getitem__(self, key:Any) -&gt; int|Fraction:\n        \"\"\"Return the factor of the given radicand.\n\n        Values not set default to zero.\n\n        Parameters\n        ----------\n        key : int\n            Radicand.\n\n        Returns\n        -------\n        int or Fraction\n            Factor of the given radicand.\n        \"\"\"\n        return self.n.get(key, 0)\n\n    def keys(self) -&gt; KeysView[int]:\n        return self.n.keys()\n\n    def values(self) -&gt; ValuesView[int|Fraction]:\n        return self.n.values()\n\n    def items(self) -&gt; ItemsView[int, int|Fraction]:\n        return self.n.items()\n\n\n\n    #conversion\n    def __bool__(self) -&gt; bool:\n        \"\"\"Return whether this element is unequal zero.\n\n        Returns\n        -------\n        bool\n            Whether this element is unequal zero.\n        \"\"\"\n        return bool(self.n)\n\n    def is_rational(self) -&gt; bool:\n        r\"\"\"Return whether this element has no radical component.\n\n        Notes\n        -----\n        Not a property to be consistent with `fractions.Fraction`.\n\n        Returns\n        -------\n        bool\n            Whether this element has no radical component.\n        \"\"\"\n        return set(self.keys()) &lt;= {1}\n\n    def as_fraction(self) -&gt; Fraction:\n        \"\"\"Return this element as a fraction.\n\n        Returns\n        -------\n        Fraction\n            This element as a fraction.\n\n        Raises\n        ------\n        ValueError\n            If this element is not a fraction.\n        \"\"\"\n        if not self.is_rational():\n            raise ValueError('not a fraction')\n        return Fraction(self.n.get(1, 0))\n\n    def is_integer(self) -&gt; bool:\n        \"\"\"Return whether this element is an integer.\n\n        Notes\n        -----\n        Not a property to be consistent with `fractions.Fraction`.\n\n        Returns\n        -------\n        bool\n            Whether this element is an integer.\n        \"\"\"\n        return set(self.keys())&lt;={1} and isinstance(self.n.get(1, 0), int)\n\n    def __int__(self) -&gt; int:\n        \"\"\"Return this element as an integer.\n\n        Returns\n        -------\n        int\n            This element as an integer.\n\n        Raises\n        ------\n        ValueError\n            If this element is not an integer.\n        \"\"\"\n        if not self.is_integer():\n            raise ValueError('not an integer')\n        return self.n.get(1, 0)\n\n    def __float__(self) -&gt; float:\n        \"\"\"Return this element as a float.\n\n        Returns\n        -------\n        float\n            This element as a float.\n        \"\"\"\n        #TODO: maybe cache?\n        #explicitly float as sumprod([], []) == int(0)\n        return float(sumprod(self.values(), map(sqrt, self.keys())))\n\n    def _sympy_(self) -&gt; sp.Expr:\n        #TODO: maybe cache?\n        return sum((v*sp.sqrt(k) for k, v in self.items()), sp.Integer(0))\n\n\n\n    #ordering\n    @overload\n    def __eq__(self, other:Self) -&gt; bool: ...\n    @overload\n    def __eq__(self, other:int) -&gt; bool: ...\n    @overload\n    def __eq__(self, other:Fraction) -&gt; bool: ...\n    def __eq__(self, other:Any) -&gt; bool|NotImplementedType:\n        if isinstance(other, SumOfSqrts):\n            return self.n == other.n\n        elif isinstance(other, (int, Fraction)):\n            return self.n == ({1:other} if other else {})\n        return NotImplemented\n\n    @overload\n    def __lt__(self, other:Self) -&gt; bool: ...\n    @overload\n    def __lt__(self, other:int) -&gt; bool: ...\n    @overload\n    def __lt__(self, other:Fraction) -&gt; bool: ...\n    def __lt__(self, other:Any) -&gt; bool|NotImplementedType:\n        \"\"\"Return whether this element is less than the other.\n\n        Notes\n        -----\n        Repeatedly finds the largest prime factors in the radicands,\n        separates these terms onto one side and squares\n        until a rational inequality is left.\n        Extremely slow and terrrible complexity.\n\n        Parameters\n        ----------\n        other: SumOfSqrts or int or Fraction\n            Operand to compare to.\n\n        Returns\n        -------\n        bool\n            Whether this element is less than the other.\n\n        References\n        ----------\n        - [StackExchange - Determine sign of sum of square roots](https://math.stackexchange.com/a/1076510)\n        - [Wikipedia - Square-root sum problem](https://en.wikipedia.org/wiki/Square-root_sum_problem)\n        \"\"\"\n        if isinstance(other, (SumOfSqrts, int, Fraction)):\n            l:SumOfSqrts = self - other\n\n            while not l.is_integer():\n                p:int = max(chain.from_iterable(map(primefactors, l.keys())))\n\n                r:SumOfSqrts = SumOfSqrts._create_directly({k//p:-v for k, v in l.items() if k%p==0})\n                l:SumOfSqrts = SumOfSqrts._create_directly({k:v for k, v in l.items() if k%p!=0})\n                #https://math.stackexchange.com/a/2347212\n                l, r = l*abs(l), r*abs(r)*p\n\n                l -= r\n\n            return int(l) &lt; 0\n        return NotImplemented\n\n\n\n    #arithmetic\n    #make all following methods non-recursive/leaves,\n    #except inversion as it is otherwise to complicated\n    def norm(self) -&gt; int|Fraction:\n        r\"\"\"Return the algebraic norm.\n\n        $$\n            \\begin{aligned}\n                N\\left(\\sum_iv_i\\sqrt{k_i}\\right)\n                = &amp;\\left(+v_1+v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right) \\\\\n                &amp;\\left(+v_1-v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right) \\\\\n                &amp;\\left(+v_1+v_2\\sqrt{2}-v_3\\sqrt{3}+\\cdots,\\right) \\\\\n                &amp;\\left(+v_1-v_2\\sqrt{2}-v_3\\sqrt{3}+\\cdots, \\dots\\right) \\\\\n                &amp;\\cdots\n            \\end{aligned}\n        $$\n\n        Product of all conjugates.\n\n        Returns\n        -------\n        int or Fraction\n            The algebraic norm.\n\n        References\n        ----------\n        [Wikipedia - Quadratic integers - Norm and conjugation](https://en.wikipedia.org/wiki/Quadratic_integer#Norm_and_conjugation)\n        \"\"\"\n        return prod(islice(self.conjugate(), 2**len(self)))[1]\n\n    def conjugate(self) -&gt; Generator[Self]:\n        r\"\"\"Yield the algebraic conjugations.\n\n        $$\n            \\begin{aligned}\n                \\left(&amp;+v_1+v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right. \\\\\n                \\left.&amp;+v_1-v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right. \\\\\n                \\left.&amp;-v_1+v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right. \\\\\n                \\left.&amp;-v_1-v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots, \\dots\\right)\n            \\end{aligned}\n        $$\n\n        The algebraic conjugates are all sign flip permutations.\n\n        Yields\n        -------\n        SumOfSqrts\n            The algebraic conjugations.\n\n        References\n        ----------\n        [Wikipedia - Quadratic integers - Norm and conjugation](https://en.wikipedia.org/wiki/Quadratic_integer#Norm_and_conjugation)\n        \"\"\"\n        for s in product((True, False), repeat=len(self)):\n            yield SumOfSqrts._create_directly({k:(+v if s else -v) for k, v, s in zip(self.keys(), self.values(), s)})\n\n    def __pos__(self) -&gt; Self:\n        r\"\"\"Return itself.\n\n        $$\n            +\\sum_iv_i\\sqrt{k_i} = \\sum_i+v_i\\sqrt{k_i}\n        $$\n\n        Returns\n        -------\n        SumOfSqrts\n            Itself.\n        \"\"\"\n        return SumOfSqrts._create_directly({k:+v for k, v in self.items()})\n\n    def __neg__(self) -&gt; Self:\n        r\"\"\"Return the negation.\n\n        $$\n            -\\sum_iv_i\\sqrt{k_i} = \\sum_i-v_i\\sqrt{k_i}\n        $$\n\n        Returns\n        -------\n        SumOfSqrts\n            The negation.\n        \"\"\"\n        return SumOfSqrts._create_directly({k:-v for k, v in self.items()})\n\n\n    @overload\n    def __add__(self, other:Self) -&gt; Self: ...\n    @overload\n    def __add__(self, other:int) -&gt; Self: ...\n    @overload\n    def __add__(self, other:Fraction) -&gt; Self: ...\n    def __add__(self, other:Any) -&gt; Self|NotImplementedType:\n        r\"\"\"Return the sum.\n\n        $$\n            \\sum_iv_i\\sqrt{k_i} + \\sum_iw_i\\sqrt{k_i}\n            = \\sum_i(v_i+w_i)\\sqrt{k_i}\n        $$\n\n        Parameters\n        ----------\n        other: SumOfSqrts or int or Fraction\n            Other summand.\n\n        Returns\n        -------\n        SumOfSqrts\n            The sum.\n        \"\"\"\n        if isinstance(other, (int, Fraction)):\n            other = SumOfSqrts(other)\n        if isinstance(other, SumOfSqrts):\n            n:defaultdict = defaultdict(int, self.n)\n            for k, v in other.items():\n                n[k] += v\n                if not n[k]:\n                    del n[k]\n            return SumOfSqrts._create_directly(n)\n        return NotImplemented\n\n    @overload\n    def __radd__(self, other:int) -&gt; Self: ...\n    @overload\n    def __radd__(self, other:Fraction) -&gt; Self: ...\n    def __radd__(self, other:Any) -&gt; Self|NotImplementedType:\n        return self + other #__add__\n\n    @overload\n    def __sub__(self, other:Self) -&gt; Self: ...\n    @overload\n    def __sub__(self, other:int) -&gt; Self: ...\n    @overload\n    def __sub__(self, other:Fraction) -&gt; Self: ...\n    def __sub__(self, other:Any) -&gt; Self|NotImplementedType:\n        r\"\"\"Return the difference.\n\n        $$\n            \\sum_iv_i\\sqrt{k_i} - \\sum_iw_i\\sqrt{k_i}\n            = \\sum_i(v_i-w_i)\\sqrt{k_i}\n        $$\n\n        Parameters\n        ----------\n        other: SumOfSqrts or int or Fraction\n            The subtrahend.\n\n        Returns\n        -------\n        SumOfSqrts\n            The difference.\n        \"\"\"\n        if isinstance(other, (int, Fraction)):\n            other = SumOfSqrts(other)\n        if isinstance(other, SumOfSqrts):\n            n:defaultdict = defaultdict(int, self.n)\n            for k, v in other.items():\n                n[k] -= v\n                if not n[k]:\n                    del n[k]\n            return SumOfSqrts._create_directly(n)\n        return NotImplemented\n\n    @overload\n    def __rsub__(self, other:int) -&gt; Self: ...\n    @overload\n    def __rsub__(self, other:Fraction) -&gt; Self: ...\n    def __rsub__(self, other:Any) -&gt; Self|NotImplementedType:\n        return (-self) + other #__add__\n\n\n    @overload\n    def __mul__(self, other:Self) -&gt; Self: ...\n    @overload\n    def __mul__(self, other:int) -&gt; Self: ...\n    @overload\n    def __mul__(self, other:Fraction) -&gt; Self: ...\n    def __mul__(self, other:Any) -&gt; Self|NotImplementedType:\n        r\"\"\"Return the product.\n\n        $$\n            \\sum_iv_i\\sqrt{k_i}\\sum_jw_j\\sqrt{l_j}\n            = \\sum_{ij}v_iw_i\\sqrt{k_il_j}\n        $$\n\n        Parameters\n        ----------\n        other: SumOfSqrts or int or Fraction\n            The other factor.\n\n        Returns\n        -------\n        SumOfSqrts\n            The product.\n        \"\"\"\n        if isinstance(other, SumOfSqrts):\n            n:defaultdict = defaultdict(int)\n            for ki, vi in self.items():\n                for kj, vj in other.items():\n                    n[ki*kj] += vi * vj\n            return SumOfSqrts(n)\n        elif isinstance(other, (int, Fraction)):\n            n:dict = {k:v*other for k, v in self.items()} if other else {}\n            return SumOfSqrts._create_directly(n)\n        return NotImplemented\n\n    @overload\n    def __rmul__(self, other:int) -&gt; Self: ...\n    @overload\n    def __rmul__(self, other:Fraction) -&gt; Self: ...\n    def __rmul__(self, other:Any) -&gt; Self|NotImplementedType:\n        return self * other #__mul__\n\n\n    def inv(self) -&gt; Self:\n        r\"\"\"Return the multiplicative inverse.\n\n        Notes\n        -----\n        Starts with $\\frac{1}{x}$ and then repeatedly multiplies\n        $\\frac{\\overline{x}^i}{\\overline{x}^i}$\n        where $\\overline{x}^i$ denotes the $i$-th conjugate\n        ($i$-th permutation of signs flipped). For half of all conjugates\n        (first sign doesn't have to be flipped)\n        because then has the denominator become rational.\n\n        Returns\n        -------\n        SumOfSqrts\n            The multiplicative inverse element.\n\n        Raises\n        ------\n        ZeroDivisionError\n            If the norm is zero.\n\n        See also\n        --------\n        [`SumOfSqrts.norm`][radicalfield.sumofsqrts.SumOfSqrts.norm]\n        \"\"\"\n        if self == 0:\n            raise ZeroDivisionError('division by zero')\n        n:SumOfSqrts = SumOfSqrts(1)\n        d:SumOfSqrts = self\n        for f in islice(self.conjugate(), 1, 2**len(self)):\n            n *= f\n            d *= f\n        return n / d.as_fraction()\n\n    @overload\n    def __truediv__(self, other:Self) -&gt; Self: ...\n    @overload\n    def __truediv__(self, other:int) -&gt; Self: ...\n    @overload\n    def __truediv__(self, other:Fraction) -&gt; Self: ...\n    def __truediv__(self, other:Any) -&gt; Self|NotImplementedType:\n        r\"\"\"Return the quotient.\n\n        $$\n            \\frac{\\left(a+b\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)}\n            = \\frac{\\left(a+b\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}\n            = \\frac{\\left(ac-2bd\\right)+\\left(bc-ad\\right)\\sqrt{2}}{c^2-2d^2}\n        $$\n\n        More often than necessary promoted to rationals.\n\n        Parameters\n        ----------\n        other: SumOfSqrts or int or Fraction\n            The denominator.\n\n        Returns\n        -------\n        SumOfSqrts\n            The quotient.\n\n        Raises\n        ------\n        ZeroDivisionError\n            If the norm of the denominator is zero.\n        \"\"\"\n        if isinstance(other, SumOfSqrts):\n            return self * other.inv()\n        elif isinstance(other, (int, Fraction)):\n            other:Fraction = Fraction(other)\n            return SumOfSqrts._create_directly({k:v/other for k, v in self.items()})\n        return NotImplemented\n\n    @overload\n    def __rtruediv__(self, other:int) -&gt; Self: ...\n    @overload\n    def __rtruediv__(self, other:Fraction) -&gt; Self: ...\n    def __rtruediv__(self, other:Any) -&gt; Self|NotImplementedType:\n        if isinstance(other, (int, Fraction)):\n            return other * self.inv()\n        return NotImplemented\n\n\n\n    #IO\n    def __repr__(self) -&gt; str:\n        n:tuple[str, ...] = tuple(f'{v:+}{chr(0x221A)}{k}' for k, v in self.items())\n        return ''.join(n) if n else '0'\n\n    def _repr_latex_(self) -&gt; str:\n        n:tuple[str, ...] = tuple(f'{v:+d}\\\\sqrt{{{k}}}' for k, v in self.items())\n        return ''.join(n) if n else '0'\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__init__","title":"<code>__init__(n=dict())</code>","text":""},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.n","title":"<code>n = field(default_factory=dict)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.from_expr","title":"<code>from_expr(e)</code>  <code>staticmethod</code>","text":"<p>Construct a <code>SumOfSqrts</code> from a <code>sympy.Expr</code>.</p> <p>Parameters:</p> <ul> <li> <code>e</code>               (<code>Expr</code>)           \u2013            <p>Expression to convert.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>SumOfSqrts</code>           \u2013            <p>Expression as <code>SumOfSqrts</code>.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ValueError</code>             \u2013            <p>If the expression could not be converted.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>@staticmethod\ndef from_expr(e:sp.Expr) -&gt; 'SumOfSqrts':\n    r\"\"\"Construct a `SumOfSqrts` from a `sympy.Expr`.\n\n    Parameters\n    ----------\n    e\n        Expression to convert.\n\n    Returns\n    -------\n    SumOfSqrts\n        Expression as `SumOfSqrts`.\n\n    Raises\n    ------\n    ValueError\n        If the expression could not be converted.\n    \"\"\"\n    if not isinstance(e, sp.Expr):\n        raise TypeError('e must be a sympy.Expr')\n\n    def rat_to_int_or_frac(r:sp.Integer|sp.Rational) -&gt; int|Fraction:\n        if isinstance(r, sp.Integer):\n            return int(r)\n        else:\n            return Fraction(int(r.p), int(r.q))\n\n    n:defaultdict[int,int|Fraction] = defaultdict(int)\n    for term in e.as_ordered_terms():\n        v, radical = term.as_coeff_Mul()\n        radicand:sp.Integer = radical**2\n        if not isinstance(v, sp.Rational) and isinstance(radicand, sp.Integer):\n            raise ValueError(f'unexpected term: {term}')\n        n[int(radicand)] += rat_to_int_or_frac(v)\n\n    return SumOfSqrts(n)\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.sqrtOf","title":"<code>sqrtOf(n)</code>  <code>staticmethod</code>","text":"Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>@staticmethod\ndef sqrtOf(n:int|Fraction) -&gt; 'SumOfSqrts':\n    if isinstance(n, int):\n        return SumOfSqrts({n:1})\n    else:\n        return SumOfSqrts({n.numerator*n.denominator:Fraction(1, n.denominator)})\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.normalize","title":"<code>normalize(d)</code>  <code>staticmethod</code>","text":"<p>Normalise a dict of radicals and rational factors into squarefree form.</p> \\[     \\sum_iv_i\\sqrt{k_i} \\] <p>Explicitly, each term is transformed as</p> \\[     v\\sqrt{k} = v\\sqrt{s^2r} = vs\\sqrt{r} \\qquad \\text{where $r$ is squarefree} \\] <p>and for the whole sum:</p> <ul> <li>zero terms are filtered out,</li> <li>type and value checked,</li> <li>square components in the radicands are pulled out &amp;</li> <li>the result is sorted by increasing radicand.</li> </ul> <p>TODO: inplace version?</p> <p>Parameters:</p> <ul> <li> <code>d</code>               (<code>dict[int, int | Fraction]</code>)           \u2013            <p>Mapping of radicands \\(k_i\\) to factors \\(v_i\\).</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>dict[int, int | Fraction]</code>           \u2013            <p>Mathematically equivalent but cleaner copy.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>TypeError</code>             \u2013            <p>If a radicand is not an integer or a coefficient is not an integer or fraction.</p> </li> <li> <code>ValueError</code>             \u2013            <p>If a radicand is negative.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>@staticmethod\ndef normalize(d:dict[int,int|Fraction]) -&gt; dict[int,int|Fraction]:\n    r\"\"\"Normalise a dict of radicals and rational factors into squarefree form.\n\n    $$\n        \\sum_iv_i\\sqrt{k_i}\n    $$\n\n    Explicitly, each term is transformed as\n\n    $$\n        v\\sqrt{k} = v\\sqrt{s^2r} = vs\\sqrt{r} \\qquad \\text{where $r$ is squarefree}\n    $$\n\n    and for the whole sum:\n\n    - zero terms are filtered out,\n    - type and value checked,\n    - square components in the radicands are pulled out &amp;\n    - the result is sorted by increasing radicand.\n\n    TODO: inplace version?\n\n    Parameters\n    ----------\n    d : dict[int, int|Fraction]\n        Mapping of radicands $k_i$ to factors $v_i$.\n\n    Returns\n    -------\n    dict[int, int|Fraction]\n        Mathematically equivalent but cleaner copy.\n\n    Raises\n    ------\n    TypeError\n        If a radicand is not an integer or a coefficient is not an\n        integer or fraction.\n    ValueError\n        If a radicand is negative.\n    \"\"\"\n    n:defaultdict[int, int|Fraction] = defaultdict(int)\n    for k, v in d.items():\n        if k and v: #filter v_0\\sqrt{0} and 0\\sqrt{k}\n            if not (isinstance(k, int) and isinstance(v, (int, Fraction))):\n                raise TypeError('radicands must be integers, factors must be integers or fractions')\n            if not k&gt;=0:\n                raise ValueError('radicands must be non-negative')\n            f = factorint(k)\n            s = prod(p**(e//2) for p, e in f.items())\n            k = prod(p**(e%2) for p, e in f.items())\n            n[k] += s * v\n            if not n[k]:\n                del n[k]\n    return dict(sorted(n.items()))\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__post_init__","title":"<code>__post_init__()</code>","text":"Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __post_init__(self) -&gt; None:\n    if isinstance(self.n, (int, Fraction)):\n        n = {1:self.n} if self.n else {}\n    elif isinstance(self.n, dict):\n        n = SumOfSqrts.normalize(self.n)\n    else:\n        raise TypeError('argument must be dict, int or fraction')\n\n    object.__setattr__(self, 'n', MappingProxyType(n))\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__len__","title":"<code>__len__()</code>","text":"<p>Return the number of terms.</p> <p>Returns:</p> <ul> <li> <code>int</code>           \u2013            <p>Number of terms.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __len__(self) -&gt; int:\n    \"\"\"Return the number of terms.\n\n    Returns\n    -------\n    int\n        Number of terms.\n    \"\"\"\n    return len(self.n)\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__getitem__","title":"<code>__getitem__(key)</code>","text":"<pre><code>__getitem__(key: int) -&gt; int | Fraction\n</code></pre> <p>Return the factor of the given radicand.</p> <p>Values not set default to zero.</p> <p>Parameters:</p> <ul> <li> <code>key</code>               (<code>int</code>)           \u2013            <p>Radicand.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>int or Fraction</code>           \u2013            <p>Factor of the given radicand.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __getitem__(self, key:Any) -&gt; int|Fraction:\n    \"\"\"Return the factor of the given radicand.\n\n    Values not set default to zero.\n\n    Parameters\n    ----------\n    key : int\n        Radicand.\n\n    Returns\n    -------\n    int or Fraction\n        Factor of the given radicand.\n    \"\"\"\n    return self.n.get(key, 0)\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.keys","title":"<code>keys()</code>","text":"Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def keys(self) -&gt; KeysView[int]:\n    return self.n.keys()\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.values","title":"<code>values()</code>","text":"Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def values(self) -&gt; ValuesView[int|Fraction]:\n    return self.n.values()\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.items","title":"<code>items()</code>","text":"Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def items(self) -&gt; ItemsView[int, int|Fraction]:\n    return self.n.items()\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__bool__","title":"<code>__bool__()</code>","text":"<p>Return whether this element is unequal zero.</p> <p>Returns:</p> <ul> <li> <code>bool</code>           \u2013            <p>Whether this element is unequal zero.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __bool__(self) -&gt; bool:\n    \"\"\"Return whether this element is unequal zero.\n\n    Returns\n    -------\n    bool\n        Whether this element is unequal zero.\n    \"\"\"\n    return bool(self.n)\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.is_rational","title":"<code>is_rational()</code>","text":"<p>Return whether this element has no radical component.</p> Notes <p>Not a property to be consistent with <code>fractions.Fraction</code>.</p> <p>Returns:</p> <ul> <li> <code>bool</code>           \u2013            <p>Whether this element has no radical component.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def is_rational(self) -&gt; bool:\n    r\"\"\"Return whether this element has no radical component.\n\n    Notes\n    -----\n    Not a property to be consistent with `fractions.Fraction`.\n\n    Returns\n    -------\n    bool\n        Whether this element has no radical component.\n    \"\"\"\n    return set(self.keys()) &lt;= {1}\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.as_fraction","title":"<code>as_fraction()</code>","text":"<p>Return this element as a fraction.</p> <p>Returns:</p> <ul> <li> <code>Fraction</code>           \u2013            <p>This element as a fraction.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ValueError</code>             \u2013            <p>If this element is not a fraction.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def as_fraction(self) -&gt; Fraction:\n    \"\"\"Return this element as a fraction.\n\n    Returns\n    -------\n    Fraction\n        This element as a fraction.\n\n    Raises\n    ------\n    ValueError\n        If this element is not a fraction.\n    \"\"\"\n    if not self.is_rational():\n        raise ValueError('not a fraction')\n    return Fraction(self.n.get(1, 0))\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.is_integer","title":"<code>is_integer()</code>","text":"<p>Return whether this element is an integer.</p> Notes <p>Not a property to be consistent with <code>fractions.Fraction</code>.</p> <p>Returns:</p> <ul> <li> <code>bool</code>           \u2013            <p>Whether this element is an integer.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def is_integer(self) -&gt; bool:\n    \"\"\"Return whether this element is an integer.\n\n    Notes\n    -----\n    Not a property to be consistent with `fractions.Fraction`.\n\n    Returns\n    -------\n    bool\n        Whether this element is an integer.\n    \"\"\"\n    return set(self.keys())&lt;={1} and isinstance(self.n.get(1, 0), int)\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__int__","title":"<code>__int__()</code>","text":"<p>Return this element as an integer.</p> <p>Returns:</p> <ul> <li> <code>int</code>           \u2013            <p>This element as an integer.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ValueError</code>             \u2013            <p>If this element is not an integer.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __int__(self) -&gt; int:\n    \"\"\"Return this element as an integer.\n\n    Returns\n    -------\n    int\n        This element as an integer.\n\n    Raises\n    ------\n    ValueError\n        If this element is not an integer.\n    \"\"\"\n    if not self.is_integer():\n        raise ValueError('not an integer')\n    return self.n.get(1, 0)\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__float__","title":"<code>__float__()</code>","text":"<p>Return this element as a float.</p> <p>Returns:</p> <ul> <li> <code>float</code>           \u2013            <p>This element as a float.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __float__(self) -&gt; float:\n    \"\"\"Return this element as a float.\n\n    Returns\n    -------\n    float\n        This element as a float.\n    \"\"\"\n    #TODO: maybe cache?\n    #explicitly float as sumprod([], []) == int(0)\n    return float(sumprod(self.values(), map(sqrt, self.keys())))\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__eq__","title":"<code>__eq__(other)</code>","text":"<pre><code>__eq__(other: Self) -&gt; bool\n</code></pre><pre><code>__eq__(other: int) -&gt; bool\n</code></pre><pre><code>__eq__(other: Fraction) -&gt; bool\n</code></pre> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __eq__(self, other:Any) -&gt; bool|NotImplementedType:\n    if isinstance(other, SumOfSqrts):\n        return self.n == other.n\n    elif isinstance(other, (int, Fraction)):\n        return self.n == ({1:other} if other else {})\n    return NotImplemented\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__lt__","title":"<code>__lt__(other)</code>","text":"<pre><code>__lt__(other: Self) -&gt; bool\n</code></pre><pre><code>__lt__(other: int) -&gt; bool\n</code></pre><pre><code>__lt__(other: Fraction) -&gt; bool\n</code></pre> <p>Return whether this element is less than the other.</p> Notes <p>Repeatedly finds the largest prime factors in the radicands, separates these terms onto one side and squares until a rational inequality is left. Extremely slow and terrrible complexity.</p> <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>Operand to compare to.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>bool</code>           \u2013            <p>Whether this element is less than the other.</p> </li> </ul> References <ul> <li>StackExchange - Determine sign of sum of square roots</li> <li>Wikipedia - Square-root sum problem</li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __lt__(self, other:Any) -&gt; bool|NotImplementedType:\n    \"\"\"Return whether this element is less than the other.\n\n    Notes\n    -----\n    Repeatedly finds the largest prime factors in the radicands,\n    separates these terms onto one side and squares\n    until a rational inequality is left.\n    Extremely slow and terrrible complexity.\n\n    Parameters\n    ----------\n    other: SumOfSqrts or int or Fraction\n        Operand to compare to.\n\n    Returns\n    -------\n    bool\n        Whether this element is less than the other.\n\n    References\n    ----------\n    - [StackExchange - Determine sign of sum of square roots](https://math.stackexchange.com/a/1076510)\n    - [Wikipedia - Square-root sum problem](https://en.wikipedia.org/wiki/Square-root_sum_problem)\n    \"\"\"\n    if isinstance(other, (SumOfSqrts, int, Fraction)):\n        l:SumOfSqrts = self - other\n\n        while not l.is_integer():\n            p:int = max(chain.from_iterable(map(primefactors, l.keys())))\n\n            r:SumOfSqrts = SumOfSqrts._create_directly({k//p:-v for k, v in l.items() if k%p==0})\n            l:SumOfSqrts = SumOfSqrts._create_directly({k:v for k, v in l.items() if k%p!=0})\n            #https://math.stackexchange.com/a/2347212\n            l, r = l*abs(l), r*abs(r)*p\n\n            l -= r\n\n        return int(l) &lt; 0\n    return NotImplemented\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.norm","title":"<code>norm()</code>","text":"<p>Return the algebraic norm.</p> \\[     \\begin{aligned}         N\\left(\\sum_iv_i\\sqrt{k_i}\\right)         = &amp;\\left(+v_1+v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right) \\\\         &amp;\\left(+v_1-v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right) \\\\         &amp;\\left(+v_1+v_2\\sqrt{2}-v_3\\sqrt{3}+\\cdots,\\right) \\\\         &amp;\\left(+v_1-v_2\\sqrt{2}-v_3\\sqrt{3}+\\cdots, \\dots\\right) \\\\         &amp;\\cdots     \\end{aligned} \\] <p>Product of all conjugates.</p> <p>Returns:</p> <ul> <li> <code>int or Fraction</code>           \u2013            <p>The algebraic norm.</p> </li> </ul> References <p>Wikipedia - Quadratic integers - Norm and conjugation</p> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def norm(self) -&gt; int|Fraction:\n    r\"\"\"Return the algebraic norm.\n\n    $$\n        \\begin{aligned}\n            N\\left(\\sum_iv_i\\sqrt{k_i}\\right)\n            = &amp;\\left(+v_1+v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right) \\\\\n            &amp;\\left(+v_1-v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right) \\\\\n            &amp;\\left(+v_1+v_2\\sqrt{2}-v_3\\sqrt{3}+\\cdots,\\right) \\\\\n            &amp;\\left(+v_1-v_2\\sqrt{2}-v_3\\sqrt{3}+\\cdots, \\dots\\right) \\\\\n            &amp;\\cdots\n        \\end{aligned}\n    $$\n\n    Product of all conjugates.\n\n    Returns\n    -------\n    int or Fraction\n        The algebraic norm.\n\n    References\n    ----------\n    [Wikipedia - Quadratic integers - Norm and conjugation](https://en.wikipedia.org/wiki/Quadratic_integer#Norm_and_conjugation)\n    \"\"\"\n    return prod(islice(self.conjugate(), 2**len(self)))[1]\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.conjugate","title":"<code>conjugate()</code>","text":"<p>Yield the algebraic conjugations.</p> \\[     \\begin{aligned}         \\left(&amp;+v_1+v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right. \\\\         \\left.&amp;+v_1-v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right. \\\\         \\left.&amp;-v_1+v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right. \\\\         \\left.&amp;-v_1-v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots, \\dots\\right)     \\end{aligned} \\] <p>The algebraic conjugates are all sign flip permutations.</p> <p>Yields:</p> <ul> <li> <code>SumOfSqrts</code>           \u2013            <p>The algebraic conjugations.</p> </li> </ul> References <p>Wikipedia - Quadratic integers - Norm and conjugation</p> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def conjugate(self) -&gt; Generator[Self]:\n    r\"\"\"Yield the algebraic conjugations.\n\n    $$\n        \\begin{aligned}\n            \\left(&amp;+v_1+v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right. \\\\\n            \\left.&amp;+v_1-v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right. \\\\\n            \\left.&amp;-v_1+v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots,\\right. \\\\\n            \\left.&amp;-v_1-v_2\\sqrt{2}+v_3\\sqrt{3}+\\cdots, \\dots\\right)\n        \\end{aligned}\n    $$\n\n    The algebraic conjugates are all sign flip permutations.\n\n    Yields\n    -------\n    SumOfSqrts\n        The algebraic conjugations.\n\n    References\n    ----------\n    [Wikipedia - Quadratic integers - Norm and conjugation](https://en.wikipedia.org/wiki/Quadratic_integer#Norm_and_conjugation)\n    \"\"\"\n    for s in product((True, False), repeat=len(self)):\n        yield SumOfSqrts._create_directly({k:(+v if s else -v) for k, v, s in zip(self.keys(), self.values(), s)})\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__pos__","title":"<code>__pos__()</code>","text":"<p>Return itself.</p> \\[     +\\sum_iv_i\\sqrt{k_i} = \\sum_i+v_i\\sqrt{k_i} \\] <p>Returns:</p> <ul> <li> <code>SumOfSqrts</code>           \u2013            <p>Itself.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __pos__(self) -&gt; Self:\n    r\"\"\"Return itself.\n\n    $$\n        +\\sum_iv_i\\sqrt{k_i} = \\sum_i+v_i\\sqrt{k_i}\n    $$\n\n    Returns\n    -------\n    SumOfSqrts\n        Itself.\n    \"\"\"\n    return SumOfSqrts._create_directly({k:+v for k, v in self.items()})\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__neg__","title":"<code>__neg__()</code>","text":"<p>Return the negation.</p> \\[     -\\sum_iv_i\\sqrt{k_i} = \\sum_i-v_i\\sqrt{k_i} \\] <p>Returns:</p> <ul> <li> <code>SumOfSqrts</code>           \u2013            <p>The negation.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __neg__(self) -&gt; Self:\n    r\"\"\"Return the negation.\n\n    $$\n        -\\sum_iv_i\\sqrt{k_i} = \\sum_i-v_i\\sqrt{k_i}\n    $$\n\n    Returns\n    -------\n    SumOfSqrts\n        The negation.\n    \"\"\"\n    return SumOfSqrts._create_directly({k:-v for k, v in self.items()})\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__add__","title":"<code>__add__(other)</code>","text":"<pre><code>__add__(other: Self) -&gt; Self\n</code></pre><pre><code>__add__(other: int) -&gt; Self\n</code></pre><pre><code>__add__(other: Fraction) -&gt; Self\n</code></pre> <p>Return the sum.</p> \\[     \\sum_iv_i\\sqrt{k_i} + \\sum_iw_i\\sqrt{k_i}     = \\sum_i(v_i+w_i)\\sqrt{k_i} \\] <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>Other summand.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>SumOfSqrts</code>           \u2013            <p>The sum.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __add__(self, other:Any) -&gt; Self|NotImplementedType:\n    r\"\"\"Return the sum.\n\n    $$\n        \\sum_iv_i\\sqrt{k_i} + \\sum_iw_i\\sqrt{k_i}\n        = \\sum_i(v_i+w_i)\\sqrt{k_i}\n    $$\n\n    Parameters\n    ----------\n    other: SumOfSqrts or int or Fraction\n        Other summand.\n\n    Returns\n    -------\n    SumOfSqrts\n        The sum.\n    \"\"\"\n    if isinstance(other, (int, Fraction)):\n        other = SumOfSqrts(other)\n    if isinstance(other, SumOfSqrts):\n        n:defaultdict = defaultdict(int, self.n)\n        for k, v in other.items():\n            n[k] += v\n            if not n[k]:\n                del n[k]\n        return SumOfSqrts._create_directly(n)\n    return NotImplemented\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__radd__","title":"<code>__radd__(other)</code>","text":"<pre><code>__radd__(other: int) -&gt; Self\n</code></pre><pre><code>__radd__(other: Fraction) -&gt; Self\n</code></pre> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __radd__(self, other:Any) -&gt; Self|NotImplementedType:\n    return self + other #__add__\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__sub__","title":"<code>__sub__(other)</code>","text":"<pre><code>__sub__(other: Self) -&gt; Self\n</code></pre><pre><code>__sub__(other: int) -&gt; Self\n</code></pre><pre><code>__sub__(other: Fraction) -&gt; Self\n</code></pre> <p>Return the difference.</p> \\[     \\sum_iv_i\\sqrt{k_i} - \\sum_iw_i\\sqrt{k_i}     = \\sum_i(v_i-w_i)\\sqrt{k_i} \\] <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>The subtrahend.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>SumOfSqrts</code>           \u2013            <p>The difference.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __sub__(self, other:Any) -&gt; Self|NotImplementedType:\n    r\"\"\"Return the difference.\n\n    $$\n        \\sum_iv_i\\sqrt{k_i} - \\sum_iw_i\\sqrt{k_i}\n        = \\sum_i(v_i-w_i)\\sqrt{k_i}\n    $$\n\n    Parameters\n    ----------\n    other: SumOfSqrts or int or Fraction\n        The subtrahend.\n\n    Returns\n    -------\n    SumOfSqrts\n        The difference.\n    \"\"\"\n    if isinstance(other, (int, Fraction)):\n        other = SumOfSqrts(other)\n    if isinstance(other, SumOfSqrts):\n        n:defaultdict = defaultdict(int, self.n)\n        for k, v in other.items():\n            n[k] -= v\n            if not n[k]:\n                del n[k]\n        return SumOfSqrts._create_directly(n)\n    return NotImplemented\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__rsub__","title":"<code>__rsub__(other)</code>","text":"<pre><code>__rsub__(other: int) -&gt; Self\n</code></pre><pre><code>__rsub__(other: Fraction) -&gt; Self\n</code></pre> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __rsub__(self, other:Any) -&gt; Self|NotImplementedType:\n    return (-self) + other #__add__\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__mul__","title":"<code>__mul__(other)</code>","text":"<pre><code>__mul__(other: Self) -&gt; Self\n</code></pre><pre><code>__mul__(other: int) -&gt; Self\n</code></pre><pre><code>__mul__(other: Fraction) -&gt; Self\n</code></pre> <p>Return the product.</p> \\[     \\sum_iv_i\\sqrt{k_i}\\sum_jw_j\\sqrt{l_j}     = \\sum_{ij}v_iw_i\\sqrt{k_il_j} \\] <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>The other factor.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>SumOfSqrts</code>           \u2013            <p>The product.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __mul__(self, other:Any) -&gt; Self|NotImplementedType:\n    r\"\"\"Return the product.\n\n    $$\n        \\sum_iv_i\\sqrt{k_i}\\sum_jw_j\\sqrt{l_j}\n        = \\sum_{ij}v_iw_i\\sqrt{k_il_j}\n    $$\n\n    Parameters\n    ----------\n    other: SumOfSqrts or int or Fraction\n        The other factor.\n\n    Returns\n    -------\n    SumOfSqrts\n        The product.\n    \"\"\"\n    if isinstance(other, SumOfSqrts):\n        n:defaultdict = defaultdict(int)\n        for ki, vi in self.items():\n            for kj, vj in other.items():\n                n[ki*kj] += vi * vj\n        return SumOfSqrts(n)\n    elif isinstance(other, (int, Fraction)):\n        n:dict = {k:v*other for k, v in self.items()} if other else {}\n        return SumOfSqrts._create_directly(n)\n    return NotImplemented\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__rmul__","title":"<code>__rmul__(other)</code>","text":"<pre><code>__rmul__(other: int) -&gt; Self\n</code></pre><pre><code>__rmul__(other: Fraction) -&gt; Self\n</code></pre> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __rmul__(self, other:Any) -&gt; Self|NotImplementedType:\n    return self * other #__mul__\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.inv","title":"<code>inv()</code>","text":"<p>Return the multiplicative inverse.</p> Notes <p>Starts with \\(\\frac{1}{x}\\) and then repeatedly multiplies \\(\\frac{\\overline{x}^i}{\\overline{x}^i}\\) where \\(\\overline{x}^i\\) denotes the \\(i\\)-th conjugate (\\(i\\)-th permutation of signs flipped). For half of all conjugates (first sign doesn't have to be flipped) because then has the denominator become rational.</p> <p>Returns:</p> <ul> <li> <code>SumOfSqrts</code>           \u2013            <p>The multiplicative inverse element.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ZeroDivisionError</code>             \u2013            <p>If the norm is zero.</p> </li> </ul> See also <p><code>SumOfSqrts.norm</code></p> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def inv(self) -&gt; Self:\n    r\"\"\"Return the multiplicative inverse.\n\n    Notes\n    -----\n    Starts with $\\frac{1}{x}$ and then repeatedly multiplies\n    $\\frac{\\overline{x}^i}{\\overline{x}^i}$\n    where $\\overline{x}^i$ denotes the $i$-th conjugate\n    ($i$-th permutation of signs flipped). For half of all conjugates\n    (first sign doesn't have to be flipped)\n    because then has the denominator become rational.\n\n    Returns\n    -------\n    SumOfSqrts\n        The multiplicative inverse element.\n\n    Raises\n    ------\n    ZeroDivisionError\n        If the norm is zero.\n\n    See also\n    --------\n    [`SumOfSqrts.norm`][radicalfield.sumofsqrts.SumOfSqrts.norm]\n    \"\"\"\n    if self == 0:\n        raise ZeroDivisionError('division by zero')\n    n:SumOfSqrts = SumOfSqrts(1)\n    d:SumOfSqrts = self\n    for f in islice(self.conjugate(), 1, 2**len(self)):\n        n *= f\n        d *= f\n    return n / d.as_fraction()\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__truediv__","title":"<code>__truediv__(other)</code>","text":"<pre><code>__truediv__(other: Self) -&gt; Self\n</code></pre><pre><code>__truediv__(other: int) -&gt; Self\n</code></pre><pre><code>__truediv__(other: Fraction) -&gt; Self\n</code></pre> <p>Return the quotient.</p> \\[     \\frac{\\left(a+b\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)}     = \\frac{\\left(a+b\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}     = \\frac{\\left(ac-2bd\\right)+\\left(bc-ad\\right)\\sqrt{2}}{c^2-2d^2} \\] <p>More often than necessary promoted to rationals.</p> <p>Parameters:</p> <ul> <li> <code>other</code>               (<code>Any</code>)           \u2013            <p>The denominator.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>SumOfSqrts</code>           \u2013            <p>The quotient.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ZeroDivisionError</code>             \u2013            <p>If the norm of the denominator is zero.</p> </li> </ul> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __truediv__(self, other:Any) -&gt; Self|NotImplementedType:\n    r\"\"\"Return the quotient.\n\n    $$\n        \\frac{\\left(a+b\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)}\n        = \\frac{\\left(a+b\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}{\\left(c+d\\sqrt{2}\\right)\\left(c-d\\sqrt{2}\\right)}\n        = \\frac{\\left(ac-2bd\\right)+\\left(bc-ad\\right)\\sqrt{2}}{c^2-2d^2}\n    $$\n\n    More often than necessary promoted to rationals.\n\n    Parameters\n    ----------\n    other: SumOfSqrts or int or Fraction\n        The denominator.\n\n    Returns\n    -------\n    SumOfSqrts\n        The quotient.\n\n    Raises\n    ------\n    ZeroDivisionError\n        If the norm of the denominator is zero.\n    \"\"\"\n    if isinstance(other, SumOfSqrts):\n        return self * other.inv()\n    elif isinstance(other, (int, Fraction)):\n        other:Fraction = Fraction(other)\n        return SumOfSqrts._create_directly({k:v/other for k, v in self.items()})\n    return NotImplemented\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__rtruediv__","title":"<code>__rtruediv__(other)</code>","text":"<pre><code>__rtruediv__(other: int) -&gt; Self\n</code></pre><pre><code>__rtruediv__(other: Fraction) -&gt; Self\n</code></pre> Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __rtruediv__(self, other:Any) -&gt; Self|NotImplementedType:\n    if isinstance(other, (int, Fraction)):\n        return other * self.inv()\n    return NotImplemented\n</code></pre>"},{"location":"sumofsqrts/#radicalfield.sumofsqrts.SumOfSqrts.__repr__","title":"<code>__repr__()</code>","text":"Source code in <code>radicalfield\\sumofsqrts.py</code> <pre><code>def __repr__(self) -&gt; str:\n    n:tuple[str, ...] = tuple(f'{v:+}{chr(0x221A)}{k}' for k, v in self.items())\n    return ''.join(n) if n else '0'\n</code></pre>"}]}